# evernote-example
Проект состоит из набора скриптов для работы с заметками [Evernote](https://evernote.com/) с помощью `Evernote API`


## Как установить

Скачать файлы скрипта.

Для работы требуется Python 2.

Затем используйте `pip2` для установки зависимостей:
```
pip2 install -r requirements.txt
```

Необходимо зарегистрировать аккаунт на [Evernote](https://evernote.com/intl/ru), если его ещё нет.

Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` в корневом каталоге проекта и запишите туда следующие переменные:
1. Ключи доступа к аккаунту пользователя:
`EVERNOTE_CONSUMER_KEY=<Consumer Key>`,
`EVERNOTE_CONSUMER_SECRET=<Consumer Secret>` - для получения указанных выше ключей, необходимо заполнить форму регистрации `API Key` в [разделе для разработчиков](https://dev.evernote.com/doc/).

2. `EVERNOTE_PERSONAL_TOKEN=<токен_разработчика>` - Ключ служит для получения доступа к API. Доступен в двух вариантах: для продакта и тестовой "песочницы" - подробности и ссылки для получения обоих ключей описаны в [документации](https://dev.evernote.com/doc/articles/dev_tokens.php). В текущей редакции проекта используется ключ для "песочницы".

**На этом шаге рекомендуется сначала ознакомиться с разделом [Использование скрипта](#использование-скрипта)**.

3. Идентификаторы рабочих блокнотов: `JOURNAL_NOTEBOOK_GUID=<GUID_идентификатор блокнота с шаблоном-заметкой>`, 
`INBOX_NOTEBOOK_GUID=<GUID_идентификатор блокнота для хранение заметок>` - можно получить с помощью скрипта `list_notebooks.py`.

4. `JOURNAL_TEMPLATE_NOTE_GUID=<GUID_идентификатор заметки-шаблона>` - идентификатор заметки-шаблона. Можно получить с помощью скрипта `dump_inbox.py`.

## Использование скрипта
После регистрации и авторизации на сайте [Evernote](https://evernote.com/) нужно создать блокнот, к примеру, `Дневник`, для хранения генерируемых заметок и блокнот с заметкой-шаблоном. В заголовке заметки шаблона нужно вставить следующий шаблон текста: `Заметка от {date} {dow}#`, это позволит при создании заметок с помощью скрипта автоматически подставлять в заголовок заданную дату и день недели.
После создания блокнотов и шаблона, можно получить их идентификаторы `GUID` с помощью скриптов `list_notebooks.py` и `dump_inbox.py`.

### Скрипт `list_notebooks.py`
Запуск
```
python2 list_notebooks.py
```
Выводит в консоль список блокнотов с идентификаторами `GUID`. 

### Скрипт `dump_inbox.py`
Запуск
```
python2 dump_inbox.py
```

Выводит в консоль информацию о заметках в блокноте `INBOX_NOTEBOOK_GUID`.

### Скрипт `add_note2journal.py`
Принимает аргумент `--date` в консоли, в котором можно указать дату заметки в формате `YYYY-MM-DD`, если аргумент не передан - используется текущая дата.

Запуск
```
python2 add_note2journal.py --date 2023-01-30
```

Создаёт заметку по шаблону с указанной датой и помещает в блокнот `INBOX_NOTEBOOK_GUID`









